#include <stdio.h>#include <stdlib.h>#include <string.h>#include <sys/socket.h>#include <arpa/inet.h>#include <time.h>#include <sys/utsname.h>#include <unistd.h>#define MAX_SIZE_BUFFER 256#define PORTA 5500int main(int argc, char * argv[]){  int socket_servidor, socket_cliente, bytes_recebidos, bytes_enviados;  struct sockaddr_in servidor, cliente;  struct utsname uts_struct;  int tamanho_cliente = sizeof(cliente);  int tamanho_servidor = sizeof(servidor);  char data[15], horario[10];  char buffer[MAX_SIZE_BUFFER];    socket_servidor = socket(AF_INET, SOCK_DGRAM, 0); /* af_inet ip( man socket), socke_stream tcp, sock_dgram udp */  bzero(&servidor, tamanho_servidor);  servidor.sin_family      = AF_INET; // endere;o ipv4  servidor.sin_port        = htons(PORTA); /* converte para endere;o de rede htond(), user comun 1024+ porta*/  servidor.sin_addr.s_addr = htonl(INADDR_ANY); /* define ip,  = INADDR_ANY;  htonl conver ip p/ end rede*/printf("\n");printf("----------------- Servidor On --------------------\n");  bind(socket_servidor,(struct sockaddr *)&servidor, tamanho_servidor);  while(1){      bytes_recebidos = recvfrom(socket_servidor, buffer, MAX_SIZE_BUFFER, 0,(struct sockaddr *)&cliente,&tamanho_cliente);if(strcmp(buffer,"nome")==0){  uname(&uts_struct); // retorna valor , se =! 0 == erro  printf("\nComando recebido: nome\n");  bytes_enviados = sendto(socket_servidor,uts_struct.nodename,45, 0, (struct sockaddr *)&cliente, tamanho_cliente);}else if(strcmp(buffer,"versao")==0){  uname(&uts_struct);  printf("\nComando recebido: versao\n");  bytes_enviados = sendto(socket_servidor,uts_struct.version,80, 0, (struct sockaddr *)&cliente, tamanho_cliente);}else if(strcmp(buffer,"sistema")==0){  uname(&uts_struct);  printf("\nComando recebido: sistema\n");  bytes_enviados = sendto(socket_servidor,uts_struct.sysname,30, 0, (struct sockaddr *)&cliente, tamanho_cliente);}else if(strcmp(buffer,"maquina")==0){  uname(&uts_struct);  printf("\nComando recebido: maquina\n");  bytes_enviados = sendto(socket_servidor,uts_struct.machine,40, 0, (struct sockaddr *)&cliente, tamanho_cliente);}else if(strcmp(buffer,"desenvolvedor")==0){  char desenvolvedores[100]= "Jader Costa - Analise e Desenvolvimento de Sistemas, FATEC Americana 2018";  printf("\nComando recebido: desenvolvedor\n");  bytes_enviados = sendto(socket_servidor,desenvolvedores,100, 0, (struct sockaddr *)&cliente, tamanho_cliente);}else if(strcmp(buffer,"data")==0 || strcmp(buffer,"dia")==0 || strcmp(buffer,"mes")==0 || strcmp(buffer,"ano")==0 ){  time_t hoje=time(NULL);  if(strcmp(buffer,"data")==0) strftime(data,15,"%d/%m/%Y",localtime(&hoje));   else if(strcmp(buffer,"dia")==0) strftime(data,15,"%d",localtime(&hoje));   else if(strcmp(buffer,"mes")==0) strftime(data,15,"%m",localtime(&hoje));   else strftime(data,15,"%Y",localtime(&hoje));   printf("\nComando recebido: %s\n",buffer);  bytes_enviados = sendto(socket_servidor, data,15, 0, (struct sockaddr *)&cliente, tamanho_cliente);}else if(strcmp(buffer,"horario")==0 || strcmp(buffer,"hora")==0 || strcmp(buffer,"minuto")==0 || strcmp(buffer,"segundo")==0){  time_t hoje=time(NULL);  if(strcmp(buffer,"horario")==0) strftime(horario,10,"%H:%M:%S",localtime(&hoje));  else if(strcmp(buffer,"hora")==0) strftime(horario,10,"%H",localtime(&hoje));  else if(strcmp(buffer,"minuto")==0) strftime(horario,10,"%M",localtime(&hoje));  else strftime(horario,10,"%S",localtime(&hoje));  printf("\nComando recebido: %s\n",buffer);  bytes_enviados = sendto(socket_servidor, horario,10, 0, (struct sockaddr *)&cliente, tamanho_cliente);}else if(strcmp(buffer,"desligar")==0 || strcmp(buffer,"-a desligar")==0){  printf("Finalizando servidor...\n");  bytes_enviados = sendto(socket_servidor, "Servidor desligado",19, 0, (struct sockaddr *)&cliente, tamanho_cliente);  printf("Servidor encerrado...\n");  return 0;}else{  printf("\nServidor # Comando recebido: %s.\n", buffer);  bytes_enviados = sendto(socket_servidor, buffer,MAX_SIZE_BUFFER, 0, (struct sockaddr *)&cliente, tamanho_cliente);} }close(socket_servidor);return 0;}