//#include "./local.h"#include <stdio.h>#include <stdlib.h>#include <string.h>#include <sys/socket.h>#include <arpa/inet.h>#include <time.h>#include <sys/utsname.h>#include <unistd.h>#define MAX_SIZE_BUFFER 256main(int argc, char *argv[]){  int socket_servidor,bytes_enviados, bytes_recebidos;  struct sockaddr_in servidor;  int tamanho_servidor = sizeof(servidor);  char buffer[MAX_SIZE_BUFFER];  char nome[45], sistema[30], versao[80], maquina[40], desenvolvedor[100],data[15], horario[10],desligar[19];  socket_servidor = socket(AF_INET, SOCK_DGRAM, 0);  bzero(&servidor, sizeof(servidor));  servidor.sin_family        = AF_INET;  servidor.sin_port          = htons(atoi(argv[2]));  servidor.sin_addr.s_addr = inet_addr(argv[1]);printf("\n ---------------------- Cliente ON ----------------------\n");printf(" -------Para ver a lista de comandos digite 'ajuda'------\n\n");while(1){printf("\n Cliente # ");gets(buffer);  if(strcmp(buffer,"ajuda")==0){  printf("\n Comandos do disponiveis no servidor: ");  printf("\n ------------------------------------\n ");  printf("- nome: Retorna o nome do servidor\n ");  printf("- versao: Retorna a versão do sistema do servidor + data\n ");  printf("- sistema: Retorna tipo de sistema do servidor\n ");  printf("- maquina: Retorna se o sistema e 32-64 bits\n ");  printf("- date: Retorna a data\n ");  printf("  dia: Retorna o dia\n ");  printf("  mes: Retorna o mes\n ");  printf("  ano: Retorna o ano\n ");  printf("- horario: Retorna o horario atual\n ");  printf("  hora: Retorna a hora atual\n ");  printf("  minuto: Retorna p minuto\n ");  printf("  segundo: Retorna o segundo\n ");  printf("- desenvolvedor: Exibe nome dos desenvolvedores desse projeto\n ");  printf("- desligar: Finaliza o servidor\n ");  printf("  -a desliga: Finaliza cliente e servidor\n ");  printf("- sair: Finaliza o cliente\n ");  printf("- ajuda: Exibe os comandos disponiveis no servidor\n ");  }  else if(strcmp(buffer,"nome")==0){  bytes_enviados=sendto(socket_servidor, buffer, MAX_SIZE_BUFFER, 0, (struct sockaddr *)&servidor, sizeof(servidor));  bytes_recebidos = recvfrom(socket_servidor, nome,45, 0, (struct sockaddr *)&servidor, &tamanho_servidor);  printf("\n Recebido do servidor : %s\n", nome);  }  else if(strcmp(buffer,"versao")==0){  bytes_enviados=sendto(socket_servidor, buffer, MAX_SIZE_BUFFER, 0, (struct sockaddr *)&servidor, sizeof(servidor));  bytes_recebidos = recvfrom(socket_servidor, versao,80, 0, (struct sockaddr *)&servidor, &tamanho_servidor);  printf("\n Recebido do servidor : %s\n", versao);  }  else if(strcmp(buffer,"sistema")==0){  bytes_enviados=sendto(socket_servidor, buffer, MAX_SIZE_BUFFER, 0, (struct sockaddr *)&servidor, sizeof(servidor));  bytes_recebidos = recvfrom(socket_servidor, sistema,30, 0, (struct sockaddr *)&servidor, &tamanho_servidor);  printf("\n Recebido do servidor : %s\n", sistema);  }  else if(strcmp(buffer,"maquina")==0){  bytes_enviados=sendto(socket_servidor, buffer, MAX_SIZE_BUFFER, 0, (struct sockaddr *)&servidor, sizeof(servidor));  bytes_recebidos = recvfrom(socket_servidor, maquina,50, 0, (struct sockaddr *)&servidor, &tamanho_servidor);  printf("\n Recebido do servidor : %s\n", maquina);  }  else if(strcmp(buffer,"desenvolvedor")==0){  bytes_enviados=sendto(socket_servidor, buffer, MAX_SIZE_BUFFER, 0, (struct sockaddr *)&servidor, sizeof(servidor));  bytes_recebidos = recvfrom(socket_servidor, desenvolvedor,100, 0, (struct sockaddr *)&servidor, &tamanho_servidor);  printf("\n Recebido do servidor : %s\n", desenvolvedor);  }  else if(strcmp(buffer,"data")==0 || strcmp(buffer,"dia")==0 || strcmp(buffer,"mes")==0 || strcmp(buffer,"ano")==0){  bytes_enviados=sendto(socket_servidor, buffer, MAX_SIZE_BUFFER, 0, (struct sockaddr *)&servidor, sizeof(servidor));  bytes_recebidos = recvfrom(socket_servidor, data,15, 0, (struct sockaddr *)&servidor, &tamanho_servidor);  printf("\n Recebido do servidor : %s\n", data);  }  else if(strcmp(buffer,"horario")==0 || strcmp(buffer,"hora")==0 || strcmp(buffer,"minuto")==0 || strcmp(buffer,"segundo")==0){  bytes_enviados=sendto(socket_servidor, buffer, MAX_SIZE_BUFFER, 0, (struct sockaddr *)&servidor, sizeof(servidor));  bytes_recebidos = recvfrom(socket_servidor, horario,10, 0, (struct sockaddr *)&servidor, &tamanho_servidor);  printf("\n Recebido do servidor : %s\n", horario);  }  else if(strcmp(buffer,"desligar")==0 || strcmp(buffer,"-a desligar")==0){  bytes_enviados=sendto(socket_servidor, buffer, MAX_SIZE_BUFFER, 0, (struct sockaddr *)&servidor, sizeof(servidor));  bytes_recebidos = recvfrom(socket_servidor, desligar,19, 0, (struct sockaddr *)&servidor, &tamanho_servidor);  if (strcmp(buffer,"-a desligar")==0) return 0;  printf("\n Recebido do servidor : %s\n", desligar);  }  else if(strcmp(buffer,"sair")==0){  printf("saindo...\n");  printf("Finalizado com sucesso\n");  return 0;  }  else{  bytes_enviados=sendto(socket_servidor, buffer, MAX_SIZE_BUFFER, 0, (struct sockaddr *)&servidor, sizeof(servidor));  bytes_recebidos = recvfrom(socket_servidor, buffer,MAX_SIZE_BUFFER, 0, (struct sockaddr *)&servidor, &tamanho_servidor);  printf("\n Mensagem enviada, servidor nao reconhece o comando : %s",buffer);  }}  close(socket_servidor);  return 0;}